<div *ngIf="isLoaded">
  <h1 class="title">Provisioning Details Extractor</h1>
  <hr />
  <div class="grid-item1" *ngIf="!responseData">
    <form class="form" (ngSubmit)="onSubmit()">
      <span class="form-title">Upload your PPKG file</span>
      <label for="file-input" class="drop-container">
        <input
          type="file"
          (change)="onFileChange($event)"
          accept=".ppkg"
          id="file-input"
        />
      </label>
      <label for="version">Simulator Version : </label>
      <select name="version" [(ngModel)]="selectedOption" (change)="onOptionChange($event)" style="margin-top: 3%;">
        <option value="less-1.15.0">&lt;1.15.0</option>
        <option value="gt-eq-1.15.0">&gt;=1.15.0</option>
      </select>
      <br>
      <button style="margin-top: 3%" type="submit" [disabled]="!selectedFile">
        Submit
      </button>
    </form>
  </div>

  <div *ngIf="responseData" class="data">
    <h3>AppSettings:</h3>
    <button class="buttons" (click)="copyToClipboard(getSimulatorData())">
      Copy AppSettings
    </button>
    <button class="buttons" type="button" (click)="downloadJson()">
      Download JSON
    </button>
    <button class="buttons" (click)="resetData()">Generate Again</button>
    <div class="sim-data">
      <pre>{{ getSimulatorData() | json }}</pre>
    </div>
  </div>
</div>

<div class="footer" [ngClass]="{ 'sticky-footer': !responseData }">
  <hr />
  <address style="margin: 2% 0 2% 0">
    Feel free to reach out to
    <a href="mailto:abhiram.rajeevan@soti.net">Abhiram Rajeevan</a> if you
    encounter any issues
  </address>
</div>